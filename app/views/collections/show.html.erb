<div id="collection-page" class="profile">

  <%= render :partial => "collections/header", :locals => {:collection => @collection} %>

  <!--main content-->
  <!-- expects @works, @bookmarks -->
    <%- unless @works.blank? -%>
    <div class="works module" id="collection-works">
      <h3>
        <%- if @collection.collection_preference.show_random || params[:show_random] -%>
        <%=h t('collections.random_works', :default => "Random works") %>  
        <%- else -%>  
        <%=h t('recent_works', :default => "Recent works") %>
        <%- end -%>
      </h3>
      <ul class="index">
        <%- for work in @works -%>
      	  <%= render :partial => 'works/work_blurb', :locals => {:work => work} %>
          <%- end -%>
      </ul>
    </div>
    <%- end -%>

    <%- unless @bookmarks.blank? -%>
    <div class="bookmarks module" id="collection-bookmarks">
      <h3>
        <%- if @collection.collection_preference.show_random || params[:show_random] -%>
        <%=h t('collections.random_bookmarks', :default => "Random bookmarks") %>  
        <%- else -%>  
        <%=h t('recent_bookmarks', :default => "Recent bookmarks") %>
        <%- end -%>
      </h3>
      <ul class="index">
      <%- for bookmark in @bookmarks -%>
        <%= render :partial => 'bookmarks/bookmark', :locals => {:bookmark => bookmark} %>
      <%- end -%>
      </ul>
    </div>
    <%- end -%>

  <% if @works.blank? && @bookmarks.blank? %>
    <p class="alt message">There are no works or bookmarks in this collection yet.</p>
  <% end %>
  <!--/content-->
  
</div> 
