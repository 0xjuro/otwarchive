<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: ChallengeAssignment</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./app/models/challenge_assignment_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="app/models/challenge_assignment.rb">app/models/challenge_assignment.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">ActiveRecord::Base</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-assign_offer%21">::assign_offer!</a></li>
					
					<li><a href="#method-c-assign_request%21">::assign_request!</a></li>
					
					<li><a href="#method-c-clear%21">::clear!</a></li>
					
					<li><a href="#method-c-delayed_generate">::delayed_generate</a></li>
					
					<li><a href="#method-c-delayed_send_out">::delayed_send_out</a></li>
					
					<li><a href="#method-c-do_assign_offer%21">::do_assign_offer!</a></li>
					
					<li><a href="#method-c-do_assign_request%21">::do_assign_request!</a></li>
					
					<li><a href="#method-c-generate">::generate</a></li>
					
					<li><a href="#method-c-perform">::perform</a></li>
					
					<li><a href="#method-c-send_out">::send_out</a></li>
					
					<li><a href="#method-c-unfulfilled_in_collection">::unfulfilled_in_collection</a></li>
					
					<li><a href="#method-c-unposted_in_collection">::unposted_in_collection</a></li>
					
					<li><a href="#method-c-update_placeholder_assignments%21">::update_placeholder_assignments!</a></li>
					
					<li><a href="#method-i-%3C%3D%3E">#<=></a></li>
					
					<li><a href="#method-i-clear_assignment">#clear_assignment</a></li>
					
					<li><a href="#method-i-cover">#cover</a></li>
					
					<li><a href="#method-i-default">#default</a></li>
					
					<li><a href="#method-i-defaulted">#defaulted</a></li>
					
					<li><a href="#method-i-defaulted%3D">#defaulted=</a></li>
					
					<li><a href="#method-i-fulfilled%3F">#fulfilled?</a></li>
					
					<li><a href="#method-i-get_collection_item">#get_collection_item</a></li>
					
					<li><a href="#method-i-offer_byline">#offer_byline</a></li>
					
					<li><a href="#method-i-offering_pseud">#offering_pseud</a></li>
					
					<li><a href="#method-i-offering_user">#offering_user</a></li>
					
					<li><a href="#method-i-pinch_hitter_byline">#pinch_hitter_byline</a></li>
					
					<li><a href="#method-i-pinch_hitter_byline%3D">#pinch_hitter_byline=</a></li>
					
					<li><a href="#method-i-pinch_request_byline">#pinch_request_byline</a></li>
					
					<li><a href="#method-i-pinch_request_byline%3D">#pinch_request_byline=</a></li>
					
					<li><a href="#method-i-posted%3F">#posted?</a></li>
					
					<li><a href="#method-i-request">#request</a></li>
					
					<li><a href="#method-i-request_byline">#request_byline</a></li>
					
					<li><a href="#method-i-requesting_pseud">#requesting_pseud</a></li>
					
					<li><a href="#method-i-send_out">#send_out</a></li>
					
					<li><a href="#method-i-title">#title</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">Comparable</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./Static.html">Static</a></li>
				
					<li><a href="./Static/BaseController.html">Static::BaseController</a></li>
				
					<li><a href="./Static/CollectionsController.html">Static::CollectionsController</a></li>
				
					<li><a href="./Static/FandomsController.html">Static::FandomsController</a></li>
				
					<li><a href="./Static/MediaController.html">Static::MediaController</a></li>
				
					<li><a href="./Static/RestrictedWorksController.html">Static::RestrictedWorksController</a></li>
				
					<li><a href="./Static/WorksController.html">Static::WorksController</a></li>
				
					<li><a href="./Admin.html">Admin</a></li>
				
					<li><a href="./Admin/AdminInvitationsController.html">Admin::AdminInvitationsController</a></li>
				
					<li><a href="./Admin/AdminUsersController.html">Admin::AdminUsersController</a></li>
				
					<li><a href="./Admin/SettingsController.html">Admin::SettingsController</a></li>
				
					<li><a href="./Admin/SkinsController.html">Admin::SkinsController</a></li>
				
					<li><a href="./Admin/UserCreationsController.html">Admin::UserCreationsController</a></li>
				
					<li><a href="./ActionController.html">ActionController</a></li>
				
					<li><a href="./ActionController/Routing.html">ActionController::Routing</a></li>
				
					<li><a href="./ActionController/Routing/RouteSet.html">ActionController::Routing::RouteSet</a></li>
				
					<li><a href="./Challenge.html">Challenge</a></li>
				
					<li><a href="./Challenge/GiftExchangeController.html">Challenge::GiftExchangeController</a></li>
				
					<li><a href="./Challenge/PromptMemeController.html">Challenge::PromptMemeController</a></li>
				
					<li><a href="./ActiveRecord.html">ActiveRecord</a></li>
				
					<li><a href="./AutocompleteSource.html">AutocompleteSource</a></li>
				
					<li><a href="./AutocompleteSource/ClassMethods.html">AutocompleteSource::ClassMethods</a></li>
				
					<li><a href="./ChallengeCore.html">ChallengeCore</a></li>
				
					<li><a href="./ChallengeCore/ClassMethods.html">ChallengeCore::ClassMethods</a></li>
				
					<li><a href="./StoryParser.html">StoryParser</a></li>
				
					<li><a href="./StoryParser/Error.html">StoryParser::Error</a></li>
				
					<li><a href="./XhtmlSplitter.html">XhtmlSplitter</a></li>
				
					<li><a href="./XhtmlSplitter/Error.html">XhtmlSplitter::Error</a></li>
				
					<li><a href="./AbuseReport.html">AbuseReport</a></li>
				
					<li><a href="./AbuseReportsController.html">AbuseReportsController</a></li>
				
					<li><a href="./AdminMailer.html">AdminMailer</a></li>
				
					<li><a href="./AdminPost.html">AdminPost</a></li>
				
					<li><a href="./AdminPostTag.html">AdminPostTag</a></li>
				
					<li><a href="./AdminPostTagging.html">AdminPostTagging</a></li>
				
					<li><a href="./AdminPostsController.html">AdminPostsController</a></li>
				
					<li><a href="./AdminSession.html">AdminSession</a></li>
				
					<li><a href="./AdminSessionsController.html">AdminSessionsController</a></li>
				
					<li><a href="./AdminSetting.html">AdminSetting</a></li>
				
					<li><a href="./AdminsController.html">AdminsController</a></li>
				
					<li><a href="./AdvancedSearchHelper.html">AdvancedSearchHelper</a></li>
				
					<li><a href="./AlphabetHelper.html">AlphabetHelper</a></li>
				
					<li><a href="./ApplicationController.html">ApplicationController</a></li>
				
					<li><a href="./ApplicationHelper.html">ApplicationHelper</a></li>
				
					<li><a href="./ArchiveFaq.html">ArchiveFaq</a></li>
				
					<li><a href="./ArchiveFaqsController.html">ArchiveFaqsController</a></li>
				
					<li><a href="./AuthlogicHelpersForMailers.html">AuthlogicHelpersForMailers</a></li>
				
					<li><a href="./AutocompleteController.html">AutocompleteController</a></li>
				
					<li><a href="./Banned.html">Banned</a></li>
				
					<li><a href="./Bookmark.html">Bookmark</a></li>
				
					<li><a href="./BookmarksController.html">BookmarksController</a></li>
				
					<li><a href="./BookmarksHelper.html">BookmarksHelper</a></li>
				
					<li><a href="./CacheHelper.html">CacheHelper</a></li>
				
					<li><a href="./CastNomination.html">CastNomination</a></li>
				
					<li><a href="./Category.html">Category</a></li>
				
					<li><a href="./ChallengeAssignment.html">ChallengeAssignment</a></li>
				
					<li><a href="./ChallengeAssignmentsController.html">ChallengeAssignmentsController</a></li>
				
					<li><a href="./ChallengeClaim.html">ChallengeClaim</a></li>
				
					<li><a href="./ChallengeClaimsController.html">ChallengeClaimsController</a></li>
				
					<li><a href="./ChallengeHelper.html">ChallengeHelper</a></li>
				
					<li><a href="./ChallengeRequestsController.html">ChallengeRequestsController</a></li>
				
					<li><a href="./ChallengeSignup.html">ChallengeSignup</a></li>
				
					<li><a href="./ChallengeSignupObserver.html">ChallengeSignupObserver</a></li>
				
					<li><a href="./ChallengeSignupSweeper.html">ChallengeSignupSweeper</a></li>
				
					<li><a href="./ChallengeSignupsController.html">ChallengeSignupsController</a></li>
				
					<li><a href="./ChallengeSweeper.html">ChallengeSweeper</a></li>
				
					<li><a href="./ChallengesController.html">ChallengesController</a></li>
				
					<li><a href="./Chapter.html">Chapter</a></li>
				
					<li><a href="./ChapterSweeper.html">ChapterSweeper</a></li>
				
					<li><a href="./ChaptersController.html">ChaptersController</a></li>
				
					<li><a href="./ChaptersHelper.html">ChaptersHelper</a></li>
				
					<li><a href="./Character.html">Character</a></li>
				
					<li><a href="./CharacterNomination.html">CharacterNomination</a></li>
				
					<li><a href="./Collectible.html">Collectible</a></li>
				
					<li><a href="./Collection.html">Collection</a></li>
				
					<li><a href="./CollectionItem.html">CollectionItem</a></li>
				
					<li><a href="./CollectionItemsController.html">CollectionItemsController</a></li>
				
					<li><a href="./CollectionObserver.html">CollectionObserver</a></li>
				
					<li><a href="./CollectionParticipant.html">CollectionParticipant</a></li>
				
					<li><a href="./CollectionParticipantsController.html">CollectionParticipantsController</a></li>
				
					<li><a href="./CollectionPreference.html">CollectionPreference</a></li>
				
					<li><a href="./CollectionProfile.html">CollectionProfile</a></li>
				
					<li><a href="./CollectionProfileController.html">CollectionProfileController</a></li>
				
					<li><a href="./CollectionSweeper.html">CollectionSweeper</a></li>
				
					<li><a href="./CollectionsController.html">CollectionsController</a></li>
				
					<li><a href="./CollectionsHelper.html">CollectionsHelper</a></li>
				
					<li><a href="./Comment.html">Comment</a></li>
				
					<li><a href="./CommentMailer.html">CommentMailer</a></li>
				
					<li><a href="./CommentObserver.html">CommentObserver</a></li>
				
					<li><a href="./CommentSweeper.html">CommentSweeper</a></li>
				
					<li><a href="./CommentsController.html">CommentsController</a></li>
				
					<li><a href="./CommentsHelper.html">CommentsHelper</a></li>
				
					<li><a href="./CommonTagging.html">CommonTagging</a></li>
				
					<li><a href="./CreationObserver.html">CreationObserver</a></li>
				
					<li><a href="./Creatorship.html">Creatorship</a></li>
				
					<li><a href="./CssCleaner.html">CssCleaner</a></li>
				
					<li><a href="./DateHelper.html">DateHelper</a></li>
				
					<li><a href="./DevmodeController.html">DevmodeController</a></li>
				
					<li><a href="./DownloadsController.html">DownloadsController</a></li>
				
					<li><a href="./EmailVeracityValidator.html">EmailVeracityValidator</a></li>
				
					<li><a href="./ErrorsController.html">ErrorsController</a></li>
				
					<li><a href="./ExternalAuthor.html">ExternalAuthor</a></li>
				
					<li><a href="./ExternalAuthorName.html">ExternalAuthorName</a></li>
				
					<li><a href="./ExternalAuthorsController.html">ExternalAuthorsController</a></li>
				
					<li><a href="./ExternalAuthorsHelper.html">ExternalAuthorsHelper</a></li>
				
					<li><a href="./ExternalCreatorship.html">ExternalCreatorship</a></li>
				
					<li><a href="./ExternalWork.html">ExternalWork</a></li>
				
					<li><a href="./ExternalWorksController.html">ExternalWorksController</a></li>
				
					<li><a href="./Fandom.html">Fandom</a></li>
				
					<li><a href="./FandomNomination.html">FandomNomination</a></li>
				
					<li><a href="./FandomsController.html">FandomsController</a></li>
				
					<li><a href="./FeedSweeper.html">FeedSweeper</a></li>
				
					<li><a href="./Feedback.html">Feedback</a></li>
				
					<li><a href="./FeedbacksController.html">FeedbacksController</a></li>
				
					<li><a href="./FilterCount.html">FilterCount</a></li>
				
					<li><a href="./FilterTagging.html">FilterTagging</a></li>
				
					<li><a href="./FindRandom.html">FindRandom</a></li>
				
					<li><a href="./Freeform.html">Freeform</a></li>
				
					<li><a href="./FreeformNomination.html">FreeformNomination</a></li>
				
					<li><a href="./Gift.html">Gift</a></li>
				
					<li><a href="./GiftExchange.html">GiftExchange</a></li>
				
					<li><a href="./GiftsController.html">GiftsController</a></li>
				
					<li><a href="./HitCounter.html">HitCounter</a></li>
				
					<li><a href="./HomeController.html">HomeController</a></li>
				
					<li><a href="./HomeHelper.html">HomeHelper</a></li>
				
					<li><a href="./HtmlCleaner.html">HtmlCleaner</a></li>
				
					<li><a href="./InboxComment.html">InboxComment</a></li>
				
					<li><a href="./InboxController.html">InboxController</a></li>
				
					<li><a href="./InboxHelper.html">InboxHelper</a></li>
				
					<li><a href="./Invitation.html">Invitation</a></li>
				
					<li><a href="./InvitationsController.html">InvitationsController</a></li>
				
					<li><a href="./InvitationsHelper.html">InvitationsHelper</a></li>
				
					<li><a href="./InviteRequest.html">InviteRequest</a></li>
				
					<li><a href="./InviteRequestsController.html">InviteRequestsController</a></li>
				
					<li><a href="./KnownIssue.html">KnownIssue</a></li>
				
					<li><a href="./KnownIssuesController.html">KnownIssuesController</a></li>
				
					<li><a href="./Kudo.html">Kudo</a></li>
				
					<li><a href="./KudoMailer.html">KudoMailer</a></li>
				
					<li><a href="./KudoObserver.html">KudoObserver</a></li>
				
					<li><a href="./KudosController.html">KudosController</a></li>
				
					<li><a href="./Language.html">Language</a></li>
				
					<li><a href="./LanguagesController.html">LanguagesController</a></li>
				
					<li><a href="./Locale.html">Locale</a></li>
				
					<li><a href="./LocalesController.html">LocalesController</a></li>
				
					<li><a href="./LogItem.html">LogItem</a></li>
				
					<li><a href="./Media.html">Media</a></li>
				
					<li><a href="./MediaController.html">MediaController</a></li>
				
					<li><a href="./MetaTagging.html">MetaTagging</a></li>
				
					<li><a href="./Offer.html">Offer</a></li>
				
					<li><a href="./OrphansController.html">OrphansController</a></li>
				
					<li><a href="./OrphansHelper.html">OrphansHelper</a></li>
				
					<li><a href="./OwnedSetTagging.html">OwnedSetTagging</a></li>
				
					<li><a href="./OwnedTagSet.html">OwnedTagSet</a></li>
				
					<li><a href="./OwnedTagSetsController.html">OwnedTagSetsController</a></li>
				
					<li><a href="./PaginationListLinkRenderer.html">PaginationListLinkRenderer</a></li>
				
					<li><a href="./PasswordsController.html">PasswordsController</a></li>
				
					<li><a href="./People.html">People</a></li>
				
					<li><a href="./PeopleController.html">PeopleController</a></li>
				
					<li><a href="./PotentialMatch.html">PotentialMatch</a></li>
				
					<li><a href="./PotentialMatchSettings.html">PotentialMatchSettings</a></li>
				
					<li><a href="./PotentialMatchesController.html">PotentialMatchesController</a></li>
				
					<li><a href="./PotentialPromptMatch.html">PotentialPromptMatch</a></li>
				
					<li><a href="./Preference.html">Preference</a></li>
				
					<li><a href="./PreferencesController.html">PreferencesController</a></li>
				
					<li><a href="./Profile.html">Profile</a></li>
				
					<li><a href="./ProfileController.html">ProfileController</a></li>
				
					<li><a href="./Prompt.html">Prompt</a></li>
				
					<li><a href="./PromptMeme.html">PromptMeme</a></li>
				
					<li><a href="./PromptRestriction.html">PromptRestriction</a></li>
				
					<li><a href="./PromptRestrictionsHelper.html">PromptRestrictionsHelper</a></li>
				
					<li><a href="./PromptsController.html">PromptsController</a></li>
				
					<li><a href="./Pseud.html">Pseud</a></li>
				
					<li><a href="./PseudSweeper.html">PseudSweeper</a></li>
				
					<li><a href="./PseudsController.html">PseudsController</a></li>
				
					<li><a href="./PseudsHelper.html">PseudsHelper</a></li>
				
					<li><a href="./Query.html">Query</a></li>
				
					<li><a href="./Rating.html">Rating</a></li>
				
					<li><a href="./Rawk.html">Rawk</a></li>
				
					<li><a href="./Reading.html">Reading</a></li>
				
					<li><a href="./ReadingsController.html">ReadingsController</a></li>
				
					<li><a href="./RedirectController.html">RedirectController</a></li>
				
					<li><a href="./RedisTestSetup.html">RedisTestSetup</a></li>
				
					<li><a href="./RelatedWork.html">RelatedWork</a></li>
				
					<li><a href="./RelatedWorksController.html">RelatedWorksController</a></li>
				
					<li><a href="./Relationship.html">Relationship</a></li>
				
					<li><a href="./RelationshipNomination.html">RelationshipNomination</a></li>
				
					<li><a href="./Request.html">Request</a></li>
				
					<li><a href="./Role.html">Role</a></li>
				
					<li><a href="./RolesUser.html">RolesUser</a></li>
				
					<li><a href="./SearchController.html">SearchController</a></li>
				
					<li><a href="./SearchHelper.html">SearchHelper</a></li>
				
					<li><a href="./SerialWork.html">SerialWork</a></li>
				
					<li><a href="./SerialWorksController.html">SerialWorksController</a></li>
				
					<li><a href="./Series.html">Series</a></li>
				
					<li><a href="./SeriesController.html">SeriesController</a></li>
				
					<li><a href="./SeriesHelper.html">SeriesHelper</a></li>
				
					<li><a href="./SetTagging.html">SetTagging</a></li>
				
					<li><a href="./Skin.html">Skin</a></li>
				
					<li><a href="./SkinParent.html">SkinParent</a></li>
				
					<li><a href="./SkinsController.html">SkinsController</a></li>
				
					<li><a href="./SkinsHelper.html">SkinsHelper</a></li>
				
					<li><a href="./SortableList.html">SortableList</a></li>
				
					<li><a href="./Stat.html">Stat</a></li>
				
					<li><a href="./StatHash.html">StatHash</a></li>
				
					<li><a href="./StaticSweeper.html">StaticSweeper</a></li>
				
					<li><a href="./StatsController.html">StatsController</a></li>
				
					<li><a href="./StatsHelper.html">StatsHelper</a></li>
				
					<li><a href="./Subscription.html">Subscription</a></li>
				
					<li><a href="./SubscriptionsController.html">SubscriptionsController</a></li>
				
					<li><a href="./Tag.html">Tag</a></li>
				
					<li><a href="./TagNomination.html">TagNomination</a></li>
				
					<li><a href="./TagNominationsController.html">TagNominationsController</a></li>
				
					<li><a href="./TagSet.html">TagSet</a></li>
				
					<li><a href="./TagSetAssociation.html">TagSetAssociation</a></li>
				
					<li><a href="./TagSetAssociationsController.html">TagSetAssociationsController</a></li>
				
					<li><a href="./TagSetNomination.html">TagSetNomination</a></li>
				
					<li><a href="./TagSetNominationsController.html">TagSetNominationsController</a></li>
				
					<li><a href="./TagSetOwnership.html">TagSetOwnership</a></li>
				
					<li><a href="./TagSetSweeper.html">TagSetSweeper</a></li>
				
					<li><a href="./TagSetsHelper.html">TagSetsHelper</a></li>
				
					<li><a href="./TagSweeper.html">TagSweeper</a></li>
				
					<li><a href="./TagWranglersController.html">TagWranglersController</a></li>
				
					<li><a href="./TagWranglingsController.html">TagWranglingsController</a></li>
				
					<li><a href="./Taggable.html">Taggable</a></li>
				
					<li><a href="./Tagging.html">Tagging</a></li>
				
					<li><a href="./TagsController.html">TagsController</a></li>
				
					<li><a href="./TagsHelper.html">TagsHelper</a></li>
				
					<li><a href="./TranslationGenerator.html">TranslationGenerator</a></li>
				
					<li><a href="./TranslationHelper.html">TranslationHelper</a></li>
				
					<li><a href="./TranslationNote.html">TranslationNote</a></li>
				
					<li><a href="./TranslationNotesController.html">TranslationNotesController</a></li>
				
					<li><a href="./TranslationsController.html">TranslationsController</a></li>
				
					<li><a href="./TranslatorsController.html">TranslatorsController</a></li>
				
					<li><a href="./UrlActiveValidator.html">UrlActiveValidator</a></li>
				
					<li><a href="./UrlFormatValidator.html">UrlFormatValidator</a></li>
				
					<li><a href="./UrlHelpers.html">UrlHelpers</a></li>
				
					<li><a href="./User.html">User</a></li>
				
					<li><a href="./UserInviteRequest.html">UserInviteRequest</a></li>
				
					<li><a href="./UserInviteRequestsController.html">UserInviteRequestsController</a></li>
				
					<li><a href="./UserInviteRequestsHelper.html">UserInviteRequestsHelper</a></li>
				
					<li><a href="./UserMailer.html">UserMailer</a></li>
				
					<li><a href="./UserSession.html">UserSession</a></li>
				
					<li><a href="./UserSessionsController.html">UserSessionsController</a></li>
				
					<li><a href="./UsersController.html">UsersController</a></li>
				
					<li><a href="./UsersHelper.html">UsersHelper</a></li>
				
					<li><a href="./ValidationHelper.html">ValidationHelper</a></li>
				
					<li><a href="./Warning.html">Warning</a></li>
				
					<li><a href="./WeightedRandom.html">WeightedRandom</a></li>
				
					<li><a href="./Work.html">Work</a></li>
				
					<li><a href="./WorkObserver.html">WorkObserver</a></li>
				
					<li><a href="./WorkSkin.html">WorkSkin</a></li>
				
					<li><a href="./WorkSweeper.html">WorkSweeper</a></li>
				
					<li><a href="./WorksController.html">WorksController</a></li>
				
					<li><a href="./WorksHelper.html">WorksHelper</a></li>
				
					<li><a href="./WranglingAssignment.html">WranglingAssignment</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">ChallengeAssignment</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		
		<div id="constants-list" class="section">
			<h3 class="section-header">Constants</h3>
			<dl>
			
				<dt><a name="ALL">ALL</a></dt>
				
				<dd class="description"><p>
We use &#8220;-1&#8221; to represent all the requested items matching
</p></dd>
				
			
				<dt><a name="REQUESTING_PSEUD_JOIN">REQUESTING_PSEUD_JOIN</a></dt>
				
				<dd class="description"><p>
sorting by request/offer
</p></dd>
				
			
				<dt><a name="OFFERING_PSEUD_JOIN">OFFERING_PSEUD_JOIN</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="COLLECTION_ITEMS_JOIN">COLLECTION_ITEMS_JOIN</a></dt>
				
				<dd class="description"><p>
sorting by fulfilled/posted status
</p></dd>
				
			
				<dt><a name="COLLECTION_ITEMS_LEFT_JOIN">COLLECTION_ITEMS_LEFT_JOIN</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="WORKS_JOIN">WORKS_JOIN</a></dt>
				
				<dd class="description"></dd>
				
			
				<dt><a name="WORKS_LEFT_JOIN">WORKS_LEFT_JOIN</a></dt>
				
				<dd class="description"></dd>
				
			
			</dl>
		</div>
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="assign-offer--method" class="method-detail ">
				<a name="method-c-assign_offer%21"></a>

				<div class="method-heading">
				
					<span class="method-name">assign_offer!</span><span
						class="method-args">(collection, offer_signup)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
go through the offer&#8217;s potential matches in order from best to worst
and try and assign
</p>
					

					
					<div class="method-source-code"
						id="assign-offer--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 343</span>
343:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">assign_offer!</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">offer_signup</span>)
344:     <span class="ruby-identifier">assignment</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:offer_signup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">offer_signup</span>)
345:     <span class="ruby-identifier">last_choice</span> = <span class="ruby-keyword kw">nil</span>
346:     <span class="ruby-identifier">assigned</span> = <span class="ruby-keyword kw">false</span>
347:     <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">offer_potential_matches</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">potential_match</span><span class="ruby-operator">|</span>
348:       <span class="ruby-comment cmt"># skip if already assigned as a request</span>
349:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_request</span>
350: 
351:       <span class="ruby-comment cmt"># if there's a circular match let's save it as our last choice</span>
352:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_offer</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">last_choice</span> <span class="ruby-operator">&amp;&amp;</span>
353:           <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">assignments</span>.<span class="ruby-identifier">for_offer_signup</span>(<span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">request_signup</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">offer_signup</span>
354:         <span class="ruby-identifier">last_choice</span> = <span class="ruby-identifier">potential_match</span>
355:         <span class="ruby-keyword kw">next</span>
356:       <span class="ruby-keyword kw">end</span>
357: 
358:       <span class="ruby-comment cmt"># otherwise let's use it</span>
359:       <span class="ruby-identifier">assigned</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">do_assign_offer!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">potential_match</span>)
360:       <span class="ruby-keyword kw">break</span>
361:     <span class="ruby-keyword kw">end</span>
362: 
363:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">assigned</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">last_choice</span>
364:       <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">do_assign_offer!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">last_choice</span>)
365:     <span class="ruby-keyword kw">end</span>
366: 
367:     <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_offer</span> = <span class="ruby-keyword kw">true</span>
368:     <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">save!</span>
369: 
370:     <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">save!</span>
371:     <span class="ruby-identifier">assignment</span>
372:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="assign-request--method" class="method-detail ">
				<a name="method-c-assign_request%21"></a>

				<div class="method-heading">
				
					<span class="method-name">assign_request!</span><span
						class="method-args">(collection, request_signup)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
go through the request&#8217;s potential matches in order from best to
worst and try and assign
</p>
					

					
					<div class="method-source-code"
						id="assign-request--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 311</span>
311:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">assign_request!</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">request_signup</span>)
312:     <span class="ruby-identifier">assignment</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:request_signup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">request_signup</span>)
313:     <span class="ruby-identifier">last_choice</span> = <span class="ruby-keyword kw">nil</span>
314:     <span class="ruby-identifier">assigned</span> = <span class="ruby-keyword kw">false</span>
315:     <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">request_potential_matches</span>.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">potential_match</span><span class="ruby-operator">|</span>
316:       <span class="ruby-comment cmt"># skip if this signup has already been assigned as an offer</span>
317:       <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_offer</span>
318: 
319:       <span class="ruby-comment cmt"># if there's a circular match let's save it as our last choice</span>
320:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_request</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">last_choice</span> <span class="ruby-operator">&amp;&amp;</span>
321:           <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">assignments</span>.<span class="ruby-identifier">for_request_signup</span>(<span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>).<span class="ruby-identifier">first</span>.<span class="ruby-identifier">offer_signup</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">request_signup</span>
322:         <span class="ruby-identifier">last_choice</span> = <span class="ruby-identifier">potential_match</span>
323:         <span class="ruby-keyword kw">next</span>
324:       <span class="ruby-keyword kw">end</span>
325: 
326:       <span class="ruby-comment cmt"># otherwise let's use it</span>
327:       <span class="ruby-identifier">assigned</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">do_assign_request!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">potential_match</span>)
328:       <span class="ruby-keyword kw">break</span>
329:     <span class="ruby-keyword kw">end</span>
330: 
331:     <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">assigned</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">last_choice</span>
332:       <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">do_assign_request!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">last_choice</span>)
333:     <span class="ruby-keyword kw">end</span>
334: 
335:     <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_request</span> = <span class="ruby-keyword kw">true</span>
336:     <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">save!</span>
337: 
338:     <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">save!</span>
339:     <span class="ruby-identifier">assignment</span>
340:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="clear--method" class="method-detail ">
				<a name="method-c-clear%21"></a>

				<div class="method-heading">
				
					<span class="method-name">clear!</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
clear out all previous assignments. note: this does NOT invoke callbacks
because ChallengeAssignments don&#8217;t have any dependent=>destroy or
associations
</p>
					

					
					<div class="method-source-code"
						id="clear--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 389</span>
389:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">clear!</span>(<span class="ruby-identifier">collection</span>)
390:     <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">delete_all</span>(<span class="ruby-value">:collection_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>)
391:     <span class="ruby-constant">ChallengeSignup</span>.<span class="ruby-identifier">update_all</span>({<span class="ruby-value">:assigned_as_offer</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>, <span class="ruby-value">:assigned_as_request</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>}, {<span class="ruby-value">:collection_id</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>})
392:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="delayed-generate-method" class="method-detail ">
				<a name="method-c-delayed_generate"></a>

				<div class="method-heading">
				
					<span class="method-name">delayed_generate</span><span
						class="method-args">(collection_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="delayed-generate-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 255</span>
255:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">delayed_generate</span>(<span class="ruby-identifier">collection_id</span>)
256:     <span class="ruby-identifier">collection</span> = <span class="ruby-constant">Collection</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">collection_id</span>)
257:     <span class="ruby-identifier">settings</span> = <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">challenge</span>.<span class="ruby-identifier">potential_match_settings</span>
258: 
259:     <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">clear!</span>(<span class="ruby-identifier">collection</span>)
260: 
261:     <span class="ruby-comment cmt"># we sort signups into buckets based on how many potential matches they have</span>
262:     <span class="ruby-ivar">@request_match_buckets</span> = {}
263:     <span class="ruby-ivar">@offer_match_buckets</span> = {}
264:     <span class="ruby-ivar">@max_match_count</span> = <span class="ruby-value">0</span>
265:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">no_match_required?</span>
266:        <span class="ruby-comment cmt"># stuff everyone into the same bucket</span>
267:        <span class="ruby-ivar">@max_match_count</span> = <span class="ruby-value">1</span>
268:        <span class="ruby-ivar">@request_match_buckets</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">signups</span>
269:        <span class="ruby-ivar">@offer_match_buckets</span>[<span class="ruby-value">1</span>] = <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">signups</span>
270:     <span class="ruby-keyword kw">else</span>    
271:       <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">signups</span>.<span class="ruby-identifier">find_each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">signup</span><span class="ruby-operator">|</span>
272:         <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">nil?</span>
273:         <span class="ruby-identifier">request_match_count</span> = <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">request_potential_matches</span>.<span class="ruby-identifier">count</span>
274:         <span class="ruby-ivar">@request_match_buckets</span>[<span class="ruby-identifier">request_match_count</span>] <span class="ruby-operator">||=</span> []
275:         <span class="ruby-ivar">@request_match_buckets</span>[<span class="ruby-identifier">request_match_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">signup</span>
276:         <span class="ruby-ivar">@max_match_count</span> = (<span class="ruby-identifier">request_match_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@max_match_count</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">request_match_count</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@max_match_count</span>)
277: 
278:         <span class="ruby-identifier">offer_match_count</span> = <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">offer_potential_matches</span>.<span class="ruby-identifier">count</span>
279:         <span class="ruby-ivar">@offer_match_buckets</span>[<span class="ruby-identifier">offer_match_count</span>] <span class="ruby-operator">||=</span> []
280:         <span class="ruby-ivar">@offer_match_buckets</span>[<span class="ruby-identifier">offer_match_count</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">signup</span>
281:         <span class="ruby-ivar">@max_match_count</span> = (<span class="ruby-identifier">offer_match_count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@max_match_count</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">offer_match_count</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@max_match_count</span>)
282:       <span class="ruby-keyword kw">end</span>
283:     <span class="ruby-keyword kw">end</span>
284: 
285:     <span class="ruby-comment cmt"># now that we have the buckets, we go through assigning people in order</span>
286:     <span class="ruby-comment cmt"># of people with the fewest options first.</span>
287:     <span class="ruby-comment cmt"># if someone has no potential matches they still get an assignment, just with no</span>
288:     <span class="ruby-comment cmt"># match.</span>
289:     <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-ivar">@max_match_count</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">count</span><span class="ruby-operator">|</span>
290:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@request_match_buckets</span>[<span class="ruby-identifier">count</span>]
291:         <span class="ruby-ivar">@request_match_buckets</span>[<span class="ruby-identifier">count</span>].<span class="ruby-identifier">sort_by</span> {<span class="ruby-identifier">rand</span>}.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">request_signup</span><span class="ruby-operator">|</span>
292:           <span class="ruby-comment cmt"># go through the potential matches in order from best to worst and try and assign</span>
293:           <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">reload</span>
294:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_request</span>
295:           <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">assign_request!</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">request_signup</span>)
296:         <span class="ruby-keyword kw">end</span>
297:       <span class="ruby-keyword kw">end</span>
298: 
299:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@offer_match_buckets</span>[<span class="ruby-identifier">count</span>]
300:         <span class="ruby-ivar">@offer_match_buckets</span>[<span class="ruby-identifier">count</span>].<span class="ruby-identifier">sort_by</span> {<span class="ruby-identifier">rand</span>}.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">offer_signup</span><span class="ruby-operator">|</span>
301:           <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">reload</span>
302:           <span class="ruby-keyword kw">next</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_offer</span>
303:           <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">assign_offer!</span>(<span class="ruby-identifier">collection</span>, <span class="ruby-identifier">offer_signup</span>)
304:         <span class="ruby-keyword kw">end</span>
305:       <span class="ruby-keyword kw">end</span>
306:     <span class="ruby-keyword kw">end</span>
307:     <span class="ruby-constant">UserMailer</span>.<span class="ruby-identifier">potential_match_generation_notification</span>(<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">deliver</span>
308:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="delayed-send-out-method" class="method-detail ">
				<a name="method-c-delayed_send_out"></a>

				<div class="method-heading">
				
					<span class="method-name">delayed_send_out</span><span
						class="method-args">(collection_id)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="delayed-send-out-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 231</span>
231:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">delayed_send_out</span>(<span class="ruby-identifier">collection_id</span>)
232:     <span class="ruby-identifier">collection</span> = <span class="ruby-constant">Collection</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">collection_id</span>)
233: 
234:     <span class="ruby-comment cmt"># update the collection challenge with the time the assignments are sent</span>
235:     <span class="ruby-identifier">challenge</span> = <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">challenge</span>
236:     <span class="ruby-identifier">challenge</span>.<span class="ruby-identifier">assignments_sent_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
237:     <span class="ruby-identifier">challenge</span>.<span class="ruby-identifier">save</span>
238: 
239:     <span class="ruby-comment cmt"># send out each assignment</span>
240:     <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">assignments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">assignment</span><span class="ruby-operator">|</span>
241:       <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">send_out</span>
242:     <span class="ruby-keyword kw">end</span>
243:     <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">notify_maintainers</span>(<span class="ruby-value str">&quot;Assignments Sent&quot;</span>, <span class="ruby-value str">&quot;All assignments have now been sent out.&quot;</span>)
244: 
245:     <span class="ruby-comment cmt"># purge the potential matches! we don't want bazillions of them in our db</span>
246:     <span class="ruby-constant">PotentialMatch</span>.<span class="ruby-identifier">clear!</span>(<span class="ruby-identifier">collection</span>)
247:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="do-assign-offer--method" class="method-detail ">
				<a name="method-c-do_assign_offer%21"></a>

				<div class="method-heading">
				
					<span class="method-name">do_assign_offer!</span><span
						class="method-args">(assignment, potential_match)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="do-assign-offer--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 380</span>
380:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">do_assign_offer!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">potential_match</span>)
381:     <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">request_signup</span> = <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>
382:     <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_request</span> = <span class="ruby-keyword kw">true</span>
383:     <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">save!</span>
384:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="do-assign-request--method" class="method-detail ">
				<a name="method-c-do_assign_request%21"></a>

				<div class="method-heading">
				
					<span class="method-name">do_assign_request!</span><span
						class="method-args">(assignment, potential_match)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="do-assign-request--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 374</span>
374:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">do_assign_request!</span>(<span class="ruby-identifier">assignment</span>, <span class="ruby-identifier">potential_match</span>)
375:     <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">offer_signup</span> = <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>
376:     <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_offer</span> = <span class="ruby-keyword kw">true</span>
377:     <span class="ruby-identifier">potential_match</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">save!</span>
378:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-method" class="method-detail ">
				<a name="method-c-generate"></a>

				<div class="method-heading">
				
					<span class="method-name">generate</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
generate automatic match for a collection this requires potential matches
to already be generated
</p>
					

					
					<div class="method-source-code"
						id="generate-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 251</span>
251:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">collection</span>)
252:     <span class="ruby-constant">Resque</span>.<span class="ruby-identifier">enqueue</span>(<span class="ruby-constant">ChallengeAssignment</span>, <span class="ruby-value">:delayed_generate</span>, <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>)
253:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="perform-method" class="method-detail ">
				<a name="method-c-perform"></a>

				<div class="method-heading">
				
					<span class="method-name">perform</span><span
						class="method-args">(method, *args)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
This will be called by a worker when a job needs to be processed
</p>
					

					
					<div class="method-source-code"
						id="perform-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 222</span>
222:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">perform</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
223:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">method</span>, *<span class="ruby-identifier">args</span>)
224:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="send-out-method" class="method-detail ">
				<a name="method-c-send_out"></a>

				<div class="method-heading">
				
					<span class="method-name">send_out</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
send assignments out to all participants
</p>
					

					
					<div class="method-source-code"
						id="send-out-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 227</span>
227:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send_out</span>(<span class="ruby-identifier">collection</span>)
228:     <span class="ruby-constant">Resque</span>.<span class="ruby-identifier">enqueue</span>(<span class="ruby-constant">ChallengeAssignment</span>, <span class="ruby-value">:delayed_send_out</span>, <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>)
229:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unfulfilled-in-collection-method" class="method-detail ">
				<a name="method-c-unfulfilled_in_collection"></a>

				<div class="method-heading">
				
					<span class="method-name">unfulfilled_in_collection</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
should be faster than unfulfilled scope because no giant left joins
</p>
					

					
					<div class="method-source-code"
						id="unfulfilled-in-collection-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 73</span>
73:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">unfulfilled_in_collection</span>(<span class="ruby-identifier">collection</span>)
74:     <span class="ruby-identifier">fulfilled_ids</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">fulfilled</span>.<span class="ruby-identifier">value_of</span>(<span class="ruby-value">:id</span>)
75:     <span class="ruby-identifier">fulfilled_ids</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value str">&quot;challenge_assignments.id NOT IN (?)&quot;</span>, <span class="ruby-identifier">fulfilled_ids</span>)
76:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="unposted-in-collection-method" class="method-detail ">
				<a name="method-c-unposted_in_collection"></a>

				<div class="method-heading">
				
					<span class="method-name">unposted_in_collection</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
faster than unposted scope because no left join!
</p>
					

					
					<div class="method-source-code"
						id="unposted-in-collection-source">
<pre>
    <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 79</span>
79:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">unposted_in_collection</span>(<span class="ruby-identifier">collection</span>)
80:     <span class="ruby-identifier">posted_ids</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">posted</span>.<span class="ruby-identifier">value_of</span>(<span class="ruby-value">:id</span>)
81:     <span class="ruby-identifier">posted_ids</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">in_collection</span>(<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">where</span>(<span class="ruby-value str">&quot;'challenge_assignments.creation_id IS NULL OR challenge_assignments.id NOT IN (?)&quot;</span>, <span class="ruby-identifier">posted_ids</span>)
82:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="update-placeholder-assignments--method" class="method-detail ">
				<a name="method-c-update_placeholder_assignments%21"></a>

				<div class="method-heading">
				
					<span class="method-name">update_placeholder_assignments!</span><span
						class="method-args">(collection)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
create placeholders for any assignments left empty (this is for after
manual updates have left some users without an assignment)
</p>
					

					
					<div class="method-source-code"
						id="update-placeholder-assignments--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 397</span>
397:   <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">update_placeholder_assignments!</span>(<span class="ruby-identifier">collection</span>)
398:     <span class="ruby-identifier">collection</span>.<span class="ruby-identifier">signups</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">signup</span><span class="ruby-operator">|</span>
399:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">request_assignments</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
400:         <span class="ruby-comment cmt"># get rid of empty placeholders no longer needed</span>
401:         <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">request_assignments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">assignment</span><span class="ruby-operator">|</span>
402:           <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">destroy</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">blank?</span>
403:         <span class="ruby-keyword kw">end</span>
404:       <span class="ruby-keyword kw">end</span>
405:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">request_assignments</span>.<span class="ruby-identifier">empty?</span>
406:         <span class="ruby-comment cmt"># not assigned to giver anymore! :(</span>
407:         <span class="ruby-identifier">assignment</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:request_signup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">signup</span>)
408:         <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">save</span>
409:       <span class="ruby-keyword kw">end</span>
410:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">offer_assignments</span>.<span class="ruby-identifier">count</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>
411:         <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">offer_assignments</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">assignment</span><span class="ruby-operator">|</span>
412:           <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">destroy</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">blank?</span>
413:         <span class="ruby-keyword kw">end</span>
414:       <span class="ruby-keyword kw">end</span>
415:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">signup</span>.<span class="ruby-identifier">offer_assignments</span>.<span class="ruby-identifier">empty?</span>
416:         <span class="ruby-identifier">assignment</span> = <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">:collection</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">collection</span>, <span class="ruby-value">:offer_signup</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">signup</span>)
417:         <span class="ruby-identifier">assignment</span>.<span class="ruby-identifier">save</span>
418:       <span class="ruby-keyword kw">end</span>
419:     <span class="ruby-keyword kw">end</span>
420:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3C%3D%3E"></a>

				<div class="method-heading">
				
					<span class="method-name">&lt;=&gt;</span><span
						class="method-args">(other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
sort in order that puts assignments with no request ahead of assignments
with no offer, ahead of assignments with both request and offer, and within
each group sorts by request byline and then offer byline.
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 141</span>
141:   <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
142:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">request_signup</span>
143:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">request_signup</span>
144:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">offer_signup</span>
145:     <span class="ruby-keyword kw">return</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">offer_signup</span>
146:     <span class="ruby-identifier">cmp</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">request_byline</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">request_byline</span>.<span class="ruby-identifier">downcase</span>
147:     <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">cmp</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cmp</span> <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
148:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">offer_byline</span>.<span class="ruby-identifier">downcase</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">offer_byline</span>.<span class="ruby-identifier">downcase</span>
149:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="clear-assignment-method" class="method-detail ">
				<a name="method-i-clear_assignment"></a>

				<div class="method-heading">
				
					<span class="method-name">clear_assignment</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="clear-assignment-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 96</span>
 96:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_assignment</span>
 97:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">offer_signup</span>
 98:       <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">assigned_as_offer</span> = <span class="ruby-keyword kw">false</span>
 99:       <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">save</span>
100:     <span class="ruby-keyword kw">end</span>
101: 
102:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">request_signup</span>
103:       <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">assigned_as_request</span> = <span class="ruby-keyword kw">false</span>
104:       <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">save</span>
105:     <span class="ruby-keyword kw">end</span>
106:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="cover-method" class="method-detail ">
				<a name="method-i-cover"></a>

				<div class="method-heading">
				
					<span class="method-name">cover</span><span
						class="method-args">(pseud)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="cover-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 197</span>
197:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cover</span>(<span class="ruby-identifier">pseud</span>)
198:     <span class="ruby-identifier">new_assignment</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">covered_at</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">request_assignments</span>.<span class="ruby-identifier">last</span> <span class="ruby-operator">:</span> <span class="ruby-constant">ChallengeAssignment</span>.<span class="ruby-identifier">new</span>
199:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">collection</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">collection</span>
200:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">request_signup_id</span> = <span class="ruby-identifier">request</span>.<span class="ruby-identifier">id</span>
201:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">pinch_hitter</span> = <span class="ruby-identifier">pseud</span>
202:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">sent_at</span> = <span class="ruby-keyword kw">nil</span>
203:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">save!</span>
204:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">send_out</span>
205:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">covered_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
206:     <span class="ruby-identifier">new_assignment</span>.<span class="ruby-identifier">save</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">save</span>
207:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="default-method" class="method-detail ">
				<a name="method-i-default"></a>

				<div class="method-heading">
				
					<span class="method-name">default</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="default-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 192</span>
192:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default</span>
193:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">defaulted_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
194:     <span class="ruby-identifier">save</span>
195:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="defaulted-method" class="method-detail ">
				<a name="method-i-defaulted"></a>

				<div class="method-heading">
				
					<span class="method-name">defaulted</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="defaulted-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 133</span>
133:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defaulted</span>
134:     <span class="ruby-operator">!</span><span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">defaulted_at</span>.<span class="ruby-identifier">nil?</span>
135:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="defaulted--method" class="method-detail ">
				<a name="method-i-defaulted%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">defaulted=</span><span
						class="method-args">(value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="defaulted--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 125</span>
125:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">defaulted=</span>(<span class="ruby-identifier">value</span>)
126:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-value str">&quot;1&quot;</span>
127:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">defaulted_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
128:     <span class="ruby-keyword kw">else</span>
129:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">defaulted_at</span> = <span class="ruby-keyword kw">nil</span>
130:     <span class="ruby-keyword kw">end</span>
131:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="fulfilled--method" class="method-detail ">
				<a name="method-i-fulfilled%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">fulfilled?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="fulfilled--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 117</span>
117:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fulfilled?</span>
118:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">posted?</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">item</span> = <span class="ruby-identifier">get_collection_item</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">approved?</span>
119:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-collection-item-method" class="method-detail ">
				<a name="method-i-get_collection_item"></a>

				<div class="method-heading">
				
					<span class="method-name">get_collection_item</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-collection-item-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 112</span>
112:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_collection_item</span>
113:     <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">creation</span>
114:     <span class="ruby-constant">CollectionItem</span>.<span class="ruby-identifier">where</span>(<span class="ruby-value str">&quot;collection_id = ? AND item_id = ? AND item_type = ?&quot;</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">collection_id</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">creation_id</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">creation_type</span>).<span class="ruby-identifier">first</span>
115:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="offer-byline-method" class="method-detail ">
				<a name="method-i-offer_byline"></a>

				<div class="method-heading">
				
					<span class="method-name">offer_byline</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="offer-byline-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 167</span>
167:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">offer_byline</span>
168:     <span class="ruby-identifier">offer_signup</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">pseud</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">pinch_hitter</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">pinch_hitter</span>.<span class="ruby-identifier">byline</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;* (pinch hitter)&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;- none -&quot;</span>)
169:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="offering-pseud-method" class="method-detail ">
				<a name="method-i-offering_pseud"></a>

				<div class="method-heading">
				
					<span class="method-name">offering_pseud</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="offering-pseud-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 159</span>
159:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">offering_pseud</span>
160:     <span class="ruby-identifier">offer_signup</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">pseud</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">pinch_hitter</span>
161:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="offering-user-method" class="method-detail ">
				<a name="method-i-offering_user"></a>

				<div class="method-heading">
				
					<span class="method-name">offering_user</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="offering-user-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 155</span>
155:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">offering_user</span>
156:     <span class="ruby-identifier">offering_pseud</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">offering_pseud</span>.<span class="ruby-identifier">user</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
157:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="pinch-hitter-byline-method" class="method-detail ">
				<a name="method-i-pinch_hitter_byline"></a>

				<div class="method-heading">
				
					<span class="method-name">pinch_hitter_byline</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="pinch-hitter-byline-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 175</span>
175:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pinch_hitter_byline</span>
176:     <span class="ruby-identifier">pinch_hitter</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">pinch_hitter</span>.<span class="ruby-identifier">byline</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
177:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="pinch-hitter-byline--method" class="method-detail ">
				<a name="method-i-pinch_hitter_byline%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">pinch_hitter_byline=</span><span
						class="method-args">(byline)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="pinch-hitter-byline--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 179</span>
179:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pinch_hitter_byline=</span>(<span class="ruby-identifier">byline</span>)
180:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_hitter</span> = <span class="ruby-constant">Pseud</span>.<span class="ruby-identifier">by_byline</span>(<span class="ruby-identifier">byline</span>).<span class="ruby-identifier">first</span>
181:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="pinch-request-byline-method" class="method-detail ">
				<a name="method-i-pinch_request_byline"></a>

				<div class="method-heading">
				
					<span class="method-name">pinch_request_byline</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="pinch-request-byline-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 183</span>
183:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pinch_request_byline</span>
184:     <span class="ruby-identifier">pinch_request_signup</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">pinch_request_signup</span>.<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span> <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;&quot;</span>
185:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="pinch-request-byline--method" class="method-detail ">
				<a name="method-i-pinch_request_byline%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">pinch_request_byline=</span><span
						class="method-args">(byline)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="pinch-request-byline--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 187</span>
187:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pinch_request_byline=</span>(<span class="ruby-identifier">byline</span>)
188:     <span class="ruby-identifier">pinch_pseud</span> = <span class="ruby-constant">Pseud</span>.<span class="ruby-identifier">by_byline</span>(<span class="ruby-identifier">byline</span>).<span class="ruby-identifier">first</span>
189:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_request_signup</span> = <span class="ruby-constant">ChallengeSignup</span>.<span class="ruby-identifier">in_collection</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">collection</span>).<span class="ruby-identifier">by_pseud</span>(<span class="ruby-identifier">pinch_pseud</span>).<span class="ruby-identifier">first</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pinch_pseud</span>
190:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="posted--method" class="method-detail ">
				<a name="method-i-posted%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">posted?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="posted--source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 121</span>
121:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">posted?</span>
122:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">creation</span> <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">creation</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:posted?</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">creation</span>.<span class="ruby-identifier">posted?</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">true</span>)
123:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="request-method" class="method-detail ">
				<a name="method-i-request"></a>

				<div class="method-heading">
				
					<span class="method-name">request</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="request-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 108</span>
108:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request</span>
109:     <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">request_signup</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_request_signup</span>
110:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="request-byline-method" class="method-detail ">
				<a name="method-i-request_byline"></a>

				<div class="method-heading">
				
					<span class="method-name">request_byline</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="request-byline-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 171</span>
171:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">request_byline</span>
172:     <span class="ruby-identifier">request_signup</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">pseud</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">byline</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">pinch_request_signup</span> <span class="ruby-operator">?</span> (<span class="ruby-identifier">pinch_request_byline</span> <span class="ruby-operator">+</span> <span class="ruby-value str">&quot;* (pinch recipient)&quot;</span>) <span class="ruby-operator">:</span> <span class="ruby-value str">&quot;- None -&quot;</span>)
173:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="requesting-pseud-method" class="method-detail ">
				<a name="method-i-requesting_pseud"></a>

				<div class="method-heading">
				
					<span class="method-name">requesting_pseud</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="requesting-pseud-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 163</span>
163:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">requesting_pseud</span>
164:     <span class="ruby-identifier">request_signup</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">request_signup</span>.<span class="ruby-identifier">pseud</span> <span class="ruby-operator">:</span> (<span class="ruby-identifier">pinch_request_signup</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">pinch_request_signup</span>.<span class="ruby-identifier">pseud</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>)
165:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="send-out-method" class="method-detail ">
				<a name="method-i-send_out"></a>

				<div class="method-heading">
				
					<span class="method-name">send_out</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="send-out-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 209</span>
209:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">send_out</span>
210:     <span class="ruby-comment cmt"># don't resend!</span>
211:     <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sent_at</span>
212:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">sent_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>
213:       <span class="ruby-identifier">save</span>
214:       <span class="ruby-identifier">assigned_to</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">offer_signup</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">offer_signup</span>.<span class="ruby-identifier">pseud</span>.<span class="ruby-identifier">user</span> <span class="ruby-operator">:</span> (<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_hitter</span> <span class="ruby-operator">?</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_hitter</span>.<span class="ruby-identifier">user</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>)
215:       <span class="ruby-identifier">request</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">request_signup</span> <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">pinch_request_signup</span>
216:       <span class="ruby-constant">UserMailer</span>.<span class="ruby-identifier">challenge_assignment_notification</span>(<span class="ruby-identifier">collection</span>.<span class="ruby-identifier">id</span>, <span class="ruby-identifier">assigned_to</span>.<span class="ruby-identifier">id</span>, <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">id</span>).<span class="ruby-identifier">deliver</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">assigned_to</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">request</span>
217:     <span class="ruby-keyword kw">end</span>
218:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="title-method" class="method-detail ">
				<a name="method-i-title"></a>

				<div class="method-heading">
				
					<span class="method-name">title</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="title-source">
<pre>
     <span class="ruby-comment cmt"># File app/models/challenge_assignment.rb, line 151</span>
151:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">title</span>
152:     <span class="ruby-node">&quot;#{self.collection.title} (#{self.request_byline})&quot;</span>
153:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

